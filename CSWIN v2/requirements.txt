# CSWIN v2 Requirements
# Noise-Robust CSWin Transformer for Hyperspectral Image Reconstruction

# ============================================================================
# PyTorch and Vision
# ============================================================================
# Install PyTorch with CUDA support using:
# pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
# Or for CPU only: pip install torch torchvision torchaudio

torch>=1.12.0
torchvision>=0.13.0
torchaudio>=0.12.0

# ============================================================================
# Core Dependencies
# ============================================================================
hydra-core>=1.3.0      # Configuration management
numpy>=1.21.0          # Numerical computing
h5py>=3.7.0            # HDF5 file format for datasets
psutil>=5.9.0          # Process and system monitoring
tqdm>=4.64.0           # Progress bars
einops>=0.6.0          # Tensor operations (rearrange, etc.)

# ============================================================================
# Optional - Logging and Visualization
# ============================================================================
wandb>=0.13.0          # Weights & Biases logging (optional but recommended)
tensorboard>=2.11.0    # TensorBoard logging (optional)

# ============================================================================
# Development and Testing (Optional)
# ============================================================================
pytest>=7.2.0          # Testing framework
pytest-cov>=4.0.0      # Coverage reporting
black>=22.12.0         # Code formatting
flake8>=6.0.0          # Linting
mypy>=0.991            # Static type checking

# ============================================================================
# Installation Instructions
# ============================================================================
#
# 1. Create virtual environment:
#    python -m venv .venv
#    source .venv/bin/activate  # On Windows: .venv\Scripts\activate
#
# 2. Install PyTorch (choose appropriate CUDA version):
#    # For CUDA 11.8:
#    pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
#
#    # For CUDA 12.1:
#    pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
#
#    # For CPU only:
#    pip install torch torchvision torchaudio
#
# 3. Install other dependencies:
#    pip install -r requirements.txt
#
# 4. (Optional) Install in editable mode for development:
#    pip install -e src/
#
# ============================================================================
# Environment Variables
# ============================================================================
#
# Set these before running:
#   export HSI_DATA_DIR=/path/to/ARAD_1K        # Dataset location
#   export HSI_LOG_DIR=./artifacts/logs         # Logs directory
#   export HSI_CKPT_DIR=./artifacts/checkpoints # Checkpoints directory
#   export OMP_NUM_THREADS=2                    # CPU threads per worker
#   export PYTORCH_CUDA_ALLOC_CONF=expandable_segments:True,max_split_size_mb:256
#
# ============================================================================
# Quick Start
# ============================================================================
#
# After installation, run training with:
#   python src/hsi_model/training_script_fixed.py --config-name config
#
# Or with custom parameters:
#   python src/hsi_model/training_script_fixed.py \
#       data_dir=/path/to/ARAD_1K \
#       batch_size=16 \
#       optimizer.generator_lr=1e-4
#
# For distributed training:
#   python -m torch.distributed.run --nproc_per_node=4 \
#       src/hsi_model/training_script_fixed.py --config-name config
#
